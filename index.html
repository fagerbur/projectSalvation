<html>
  <head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-cubemap-component@2.1.1/dist/aframe-cubemap-component.min.js"></script>
    <script src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
    
    <script src="https://unpkg.com/aframe-lensflare-component/dist/aframe-lensflare-component.min.js"></script>
    <!-- embedded scripts -->
    <script src="js/rounded.js"></script>
    <script src="js/utilities.js"></script>
  </head>
  <body>
    <!-- <audio src="audio/kingsfold.mp3" type="audio/mpeg" playbackRate=".25" autoplay></audio> -->
    <a-scene webxr="referenceSpaceType: local" environment cursor="rayOrigin: mouse; fuse: false" raycaster="objects: .raycastable" info-message="htmlSrc: #messageText">
      <img>
        <a-asset-item id="messageText" src="templates/information.html"></a-asset-item>
        <img id="cloud" src="images/materials/cloud_texture.jpg">
        <img id="rock" src="images/materials/Rock037_1K-JPG/Rock037_1K_Color.jpg">
        <img id="rockNormal" src="images/materials/Rock037_1K-JPG/Rock037_1K_Normal.jpg">
        <img id="tomb" src="images/materials/Rock039_1K-JPG/Rock039_1K_Color.jpg">
        <img id="tombNormal" src="images/materials/Rock039_1K-JPG/Rock039_1K_Normal.jpg">
        <img id="tombDisplace" src="images/materials/Rock039_1K-JPG/Rock039_1K_Displacement.jpg">
        <img id="wood" src="images/materials/Wood027_1K-JPG//Wood027_1K_Color.jpg">
        <img id="woodNormal" src="images/materials/Wood027_1K-JPG/Wood027_1K_Normal.jpg">
        <img id="earth" src="images/materials/planet_earth.jpg">
        <img id="atonementImage" src="images/atonement/jesus_praying_in_gethsemane.jpeg">
        <img id="resurrectionImage" src="images/resurrection/the_second_coming.jpeg">
        <img id="telestialFlare" src="images/materials/flare.jpg">
        <img id="terrestrialFlare" src="images/materials/flare2.jpg">
        <img id="celestialFlare" src="images/materials/flare3.jpg">
        <img id="terrestrialMaterial" src="images/kingdoms/Moon_LRO_LOLA_global_LDEM_1024.jpg">
        <img id="celestialMaterial" src="images/kingdoms/SunTex.jpg">
        <img id="telestialIcon" src="images/kingdoms/star-256.png">
        <img id="terrestrialIcon" src="images/kingdoms/moon-256.png">
        <img id="celestialIcon" src="images/kingdoms/sun-256.png">
        <img id="undoIcon" src="images/kingdoms/undo-256.png">
        <img id="arrow" src="images/navigation/arrow-256.png">
        <img id="play" src="images/atonement/play-256.png">
        <img id="pause" src="images/atonement/pause-256.png">
        <video id="BecauseOfHim" preload="auto" src="video/2014-00-1420-because-of-him-720p-eng.mp4" width="160" height="90" crossOrigin="anonymous" playsinline="" webkit-playsinline=""></video>

        <img src="images/materials/flare.jpg" alt="Test Lensflare Asset" id="flare-asset">
      </a-assets>
      <!-- the firmament -->
      <a-entity id="background" cubemap="folder: /images/firmament/"></a-entity>
      <a-entity id="light" light="type: ambient; color: #888"></a-entity>

      <a-entity id="CameraRig" wasd-controls="acceleration:20" position="0 1.6 0">
        <a-entity id="Camera" camera look-controls></a-entity>

        <a-entity id="left-hand" teleport-controls="cameraRig: #CameraRig; teleportOrigin: #Camera;"></a-entity>
        <a-entity id="right-hand" teleport-controls="cameraRig: #CameraRig; teleportOrigin: #Camera;"></a-entity>
        
        <a-torus arc="360" radius=".25" radius-tubular="0.01" rotation="105 0 0" position="0 -1.6 0"
        material="color: #FFF107; emissive: #FFF; emissiveIntensity: .5;"
        ></a-torus>
      </a-entity>  

      <a-entity id="MouseCursor" cursor="rayOrigin: mouse" raycaster="objects: #Start, #NextOne, #PlayControl, #PauseControl, #TombStone, #tel, #ter, #cel, #undo"></a-entity>

      <!-- the introduction and navigation -->
      <a-entity id="Beginning">
        <a-box id="TitlePanel" position="0 1.35 -2.025" height=".75" width="2" scale="1 1 .05" material="shader: flat; color: #222; metalness: .25;"></a-box>

        <a-entity id="WelcomeText" position=".45 1.45 -2" 
          text="width: 2.5; color: white; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/montserrat/Montserrat-SemiBold.json; 
          value: Welcome to Project Salvation.">
        </a-entity>
        <a-entity id="IntroductionText" position=".075 2.5 -2"
          text="width: 2; color: white; transparent: true; opacity: 0;
          shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/montserrat/Montserrat-Regular.json;
          value: This is an interactive experience based on the plan of salvation. It is NOT affiliated with the Church of Jesus Christ of Latter-Day Saints.">
            <a-image id="NextOne" src="#arrow" position=".2 -.2 0" scale=".2 .2" 
              transparent="true" opacity=".65" visible="false" next-one
              animation__highlight="property: material.opacity; to: 1; startEvents: mouseenter; dur: 200"
              animation__scale="property: scale; to: .225 .225; startEvents: mouseenter; dur: 200"
              animation__unhighlight="property: material.opacity; to: .65; startEvents: mouseleave; dur: 200"
              animation__unscale="property: scale; to: .2 .2; startEvents: mouseleave; dur: 200">
            </a-image>
        </a-entity>

        <a-rounded id="Start" material="color: dodgerblue; emissive: dodgerblue; emissiveIntensity: .5;" position="0 1.15 -1.99" width=".5" height=".2" radius="0.1"
        animation__mouseenter="property: components.material.material.color; type: color; from: dodgerblue; to: lightblue; startEvents: mouseenter; dur: 200"
        animation__mouseleave="property: components.material.material.color; type: color; from: lightblue; to: dodgerblue; startEvents: mouseleave; dur: 200"
        title-scroll>
          <a-entity id="StartButtonText" position=".89 -.05 0" 
          text="width: 2; color: white; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/montserrat/Montserrat-SemiBold.json; 
          value: Start">
          </a-entity>
        </a-rounded>
      </a-entity>

      <!-- the pre-existence -->
      <a-entity id="PreExistence" visible="false" position="10 1.35 -2">
        <a-box position="1.5 .25 -.5" scale="2 .8 .05" rotation="0 -35 0" material="shader: flat; color: #222; metalness: .25;"></a-box>
        <a-entity id="PreExistText" position="2 .25 -.1" rotation="0 -35 0"
        text="width: 2; color: white; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/montserrat/Montserrat-SemiBold.json; 
        value: Pre-Existence">
          <a-image id="NextOne" src="#arrow" position=".2 -.25 0" scale=".2 .2" 
            transparent="true" opacity=".65" next-one
            animation__highlight="property: material.opacity; to: 1; startEvents: mouseenter; dur: 200"
            animation__scale="property: scale; to: .225 .225; startEvents: mouseenter; dur: 200"
            animation__unhighlight="property: material.opacity; to: .65; startEvents: mouseleave; dur: 200"
            animation__unscale="property: scale; to: .2 .2; startEvents: mouseleave; dur: 200">
          </a-image>
        </a-entity>

        <a-entity position="0 1.65 0" light="type: spot; color: #555; intensity: 6.0; penumbra: 0.5; distance: 8; target:#PreSpirit"></a-entity>
        <a-entity position="0 -.5 0" light="type: spot; color: #555; intensity: 6.0; penumbra: 0.5; distance: 8; target:#PreSpirit"></a-entity>
        <a-sphere material="src:#cloud; transparent:true; opacity:0.15; emissive: #000; emissiveIntensity: .5; roughness: 1;" 
        radius=".98" position="-1 .15 -1" animation="property: rotation; to: 0 360; easing:linear; loop: true; dur:30000;"></a-sphere>
        <a-sphere id="PreSpirit" material="src:#cloud; transparent:true; opacity:0.25; emissive: #000; emissiveIntensity: .5; roughness: 1;" 
        radius="1" position="-1 .15 -1" animation="property: rotation; to: 0 360; easing:linear; loop: true; dur:25000;"></a-sphere>

        <!-- <a-box position="10 0 -2.5" scale="2.5 .05 2" material="shader: flat; color: #BBB; opacity: .25; transparent:true;"></a-box> -->
      </a-entity>

      <!-- the creation & fall -->
      <a-entity id="CreationFall" visible="false" position="20 1.35 -2">
        <a-box position="1.5 .25 -.5" scale="2 .8 .05" rotation="0 -35 0" material="shader: flat; color: #222; metalness: .25;"></a-box>
        <a-entity id="CreationText" position="2 .25 -.1" rotation="0 -35 0"
        text="width: 2; color: white; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/montserrat/Montserrat-SemiBold.json; 
        value: Creation & Fall">
          <a-image id="NextOne" src="#arrow" position=".2 -.25 0" scale=".2 .2" 
            transparent="true" opacity=".65" next-one
            animation__highlight="property: material.opacity; to: 1; startEvents: mouseenter; dur: 200"
            animation__scale="property: scale; to: .225 .225; startEvents: mouseenter; dur: 200"
            animation__unhighlight="property: material.opacity; to: .65; startEvents: mouseleave; dur: 200"
            animation__unscale="property: scale; to: .2 .2; startEvents: mouseleave; dur: 200">
          </a-image>
        </a-entity>

        <a-entity position="0 1.65 0" light="type: spot; color: #555; intensity: 6.0; penumbra: 0.5; distance: 8; target:#Creation"></a-entity>
        <a-entity position="0 -.5 1" light="type: spot; color: #555; intensity: 6.0; penumbra: 0.5; distance: 8; target:#Creation"></a-entity>
        <a-sphere material="src:#rock; roughness: 1; normalMap:#rockNormal; emissive: orange; emissiveIntensity: .05;" 
        radius=".98" position="-1 .15 -1" animation="property: rotation; to: 0 360; easing:linear; loop: true; dur:30000;"></a-sphere>
        <a-sphere id="Creation" material="src:#cloud; transparent:true; opacity:0.25; emissive: #000; emissiveIntensity: .5; roughness: 1;" 
        radius="1" position="-1 .15 -1" animation="property: rotation; to: 0 360; easing:linear; loop: true; dur:25000;"></a-sphere>

        <!-- <a-box position="10 0 -2.5" scale="2.5 .05 2" material="shader: flat; color: #BBB; opacity: .25; transparent:true;"></a-box> -->
      </a-entity>

      <!-- the life on earth -->
      <a-entity id="EarthLife" visible="false" position="30 1.35 -2">
        <a-box position="1.5 .25 -.5" scale="2 .8 .05" rotation="0 -35 0" material="shader: flat; color: #222; metalness: .25;"></a-box>
        <a-entity id="LifeText" position="2 .25 -.1" rotation="0 -35 0"
        text="width: 2; color: white; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/montserrat/Montserrat-SemiBold.json; 
        value: Life On Earth">
          <a-image id="NextOne" src="#arrow" position=".2 -.25 0" scale=".2 .2" 
            transparent="true" opacity=".65" next-one
            animation__highlight="property: material.opacity; to: 1; startEvents: mouseenter; dur: 200"
            animation__scale="property: scale; to: .225 .225; startEvents: mouseenter; dur: 200"
            animation__unhighlight="property: material.opacity; to: .65; startEvents: mouseleave; dur: 200"
            animation__unscale="property: scale; to: .2 .2; startEvents: mouseleave; dur: 200">
          </a-image>
        </a-entity>

        <a-entity position="0 1.65 0" light="type: spot; color: #555; intensity: 6.0; penumbra: 0.5; distance: 8; target:#Earth"></a-entity>
        <a-entity position="0 -.5 1" light="type: spot; color: #555; intensity: 6.0; penumbra: 0.5; distance: 8; target:#Earth"></a-entity>
        <a-sphere material="src:#earth; roughness: 1; emissive: orange; emissiveIntensity: .00;" 
        radius=".98" position="-1 .15 -1" rotation="0 0 23.5" animation="property: rotation; to:0 360 23.5; easing:linear; loop: true; dur:30000;"></a-sphere>
        <a-sphere id="Earth" material="src:#cloud; transparent:true; opacity:0.25; emissive: #000; emissiveIntensity: .5; roughness: 1;" 
        radius="1" position="-1 .15 -1" animation="property: rotation; to: 0 360; easing:linear; loop: true; dur:25000;"></a-sphere>

        <!-- <a-box position="10 0 -2.5" scale="2.5 .05 2" material="shader: flat; color: #BBB; opacity: .25; transparent:true;"></a-box> -->
      </a-entity>

      <!-- the atonement -->
      <a-entity id="Atonement" visible="false" position="40 1.35 -2">
        <a-box position="1.5 .25 -.5" scale="2 .8 .05" rotation="0 -35 0" material="shader: flat; color: #222; metalness: .25;"></a-box>
        <a-entity id="AtonementText" position="2 .25 -.1" rotation="0 -35 0"
        text="width: 2; color: white; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/montserrat/Montserrat-SemiBold.json; 
        value: Atonement">
          <a-image id="NextOne" src="#arrow" position=".2 -.25 0" scale=".2 .2" 
            transparent="true" opacity=".65" next-one
            animation__highlight="property: material.opacity; to: 1; startEvents: mouseenter; dur: 200"
            animation__scale="property: scale; to: .225 .225; startEvents: mouseenter; dur: 200"
            animation__unhighlight="property: material.opacity; to: .65; startEvents: mouseleave; dur: 200"
            animation__unscale="property: scale; to: .2 .2; startEvents: mouseleave; dur: 200">
          </a-image>
        </a-entity>

        <a-image id="AtonementImg" src="#atonementImage" position="-5 .15 -1" scale="2 2" rotation="0 35 0"></a-image>
        <a-box id="PictureFrame" position="-5.025 .15 -1.025" rotation="0 -55 0" scale=".05 2.2 2.2" 
        material="src:#wood; roughness: 1; normalMap:#woodNormal; metalness: 0;"></a-box>
        <a-video id="christVideo" src="#BecauseOfHim" position="-1.5 0 -1" width="4" height="2.25">
          <a-image id="PlayControl" src="#play" position="0 -1.5 .025" scale=".5 .5" play-control></a-image>
          <a-image id="PauseControl" src="#pause" position="0 -1.5 .025" scale="0 0" pause-control></a-image>
        </a-video>

        <!-- <a-box position="10 0 -2.5" scale="2.5 .05 2" material="shader: flat; color: #BBB; opacity: .25; transparent:true;"></a-box> -->
      </a-entity>

      <!-- the spirit world -->
      <a-entity id="SpiritWorld" visible="false" position="50 1.35 -2">
        <a-box position="1.5 .25 -.5" scale="2 .8 .05" rotation="0 -35 0" material="shader: flat; color: #222; metalness: .25;"></a-box>
        <a-entity id="SpiritWorldText" position="2 .25 -.1" rotation="0 -35 0"
        text="width: 2; color: white; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/montserrat/Montserrat-SemiBold.json; 
        value: Spirit World">
          <a-image id="NextOne" src="#arrow" position=".2 -.25 0" scale=".2 .2" 
            transparent="true" opacity=".65" next-one
            animation__highlight="property: material.opacity; to: 1; startEvents: mouseenter; dur: 200"
            animation__scale="property: scale; to: .225 .225; startEvents: mouseenter; dur: 200"
            animation__unhighlight="property: material.opacity; to: .65; startEvents: mouseleave; dur: 200"
            animation__unscale="property: scale; to: .2 .2; startEvents: mouseleave; dur: 200">
          </a-image>
        </a-entity>

        <a-entity position="-5 8.15 -1" light="type: spot; color: #2471a3; intensity: 8.0; penumbra: 1; distance: 25; target:#SpiritWorld"></a-entity>
        <a-entity position="3 -7.85 -1" light="type: spot; color: #a93226; intensity: 8.0; penumbra: 1; distance: 25; target:#SpiritWorld"></a-entity>
        <a-sphere material="src:#cloud; transparent:true; opacity:0.15; emissive: #000; emissiveIntensity: .5; roughness: 1;" 
        radius=".98" position="-1 .15 -1" animation="property: rotation; to: 0 360; easing:linear; loop: true; dur:30000;"></a-sphere>
        <a-sphere id="SpiritWorld" material="src:#cloud; transparent:true; opacity:0.25; emissive: #000; emissiveIntensity: .5; roughness: 1;" 
        radius="1" position="-1 .15 -1" animation="property: rotation; to: 0 360; easing:linear; loop: true; dur:25000;"></a-sphere>

        <!-- <a-box position="10 0 -2.5" scale="2.5 .05 2" material="shader: flat; color: #BBB; opacity: .25; transparent:true;"></a-box> -->
      </a-entity>

      <!-- the resurrection, judgement and immortality -->
      <a-entity id="Resurrection" visible="false" position="60 1.35 -2">
        <a-box position="1.5 .25 -.5" scale="2 .8 .05" rotation="0 -35 0" material="shader: flat; color: #222; metalness: .25;"></a-box>
        <a-entity id="ResurrectionText" position="2 .25 -.1" rotation="0 -35 0"
        text="width: 2; color: white; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/montserrat/Montserrat-SemiBold.json; 
        value: Resurrection & Judgement">
          <a-image id="NextOne" src="#arrow" position=".2 -.25 0" scale=".2 .2" 
            transparent="true" opacity=".65" next-one
            animation__highlight="property: material.opacity; to: 1; startEvents: mouseenter; dur: 200"
            animation__scale="property: scale; to: .225 .225; startEvents: mouseenter; dur: 200"
            animation__unhighlight="property: material.opacity; to: .65; startEvents: mouseleave; dur: 200"
            animation__unscale="property: scale; to: .2 .2; startEvents: mouseleave; dur: 200">
          </a-image>
        </a-entity>
        
        <a-image id="ResurrectionImg" src="#resurrectionImage" position="-1 .15 -1" scale="1.5 2"></a-image>
        <a-box id="PictureFrame" position="-1.025 .15 -1.05" rotation="0 90 0" scale=".05 2.2 1.7" 
        material="src:#wood; roughness: 1; normalMap:#woodNormal; metalness: 0;"></a-box>

        <a-cylinder id="TombStone" position="-1 .15 -1" radius="1.5" height=".25" rotation="0 90 -90"
          material="src:#tomb; roughness: 1; metalness: 0; normalMap:#tombNormal; 
          displacementMap:#tombDisplace; displacementScale:.05; displacementBias: -.05;"
          transparent="true" opacity="1"
          animation__scale="property: radius; to: 1.6; startEvents: mouseenter; dur: 200"
          tombstone-roll>
        </a-cylinder>
      </a-entity>

      <!-- the kingdoms of glory -->
      <a-entity id="Kingdoms" visible="true" position="10 1.35 -2">
        <a-box position="0 -.25 -.025" scale="2 .8 .05" rotation="-35 0 0" material="shader: flat; color: #222; metalness: .25;"></a-box>
        <a-entity id="KingdomsText" position=".45 -.2 0" rotation="-35 0 0"
        text="width: 2; color: white; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/montserrat/Montserrat-SemiBold.json; 
        value: The Kingdoms of Glory">
          <a-image id="NextOne" src="#arrow" position=".2 -.25 0" scale=".2 .2" 
            transparent="true" opacity=".65" next-one
            animation__highlight="property: material.opacity; to: 1; startEvents: mouseenter; dur: 200"
            animation__scale="property: scale; to: .225 .225; startEvents: mouseenter; dur: 200"
            animation__unhighlight="property: material.opacity; to: .65; startEvents: mouseleave; dur: 200"
            animation__unscale="property: scale; to: .2 .2; startEvents: mouseleave; dur: 200">
          </a-image>
          <a-image id="tel" src="#telestialIcon" position="-.8 -.25 0" scale=".2 .2" 
            transparent="true" opacity=".65" light-telestial
            animation__highlight="property: material.opacity; to: 1; startEvents: mouseenter; dur: 200"
            animation__scale="property: scale; to: .225 .225; startEvents: mouseenter; dur: 200"
            animation__unhighlight="property: material.opacity; to: .65; startEvents: mouseleave; dur: 200"
            animation__unscale="property: scale; to: .2 .2; startEvents: mouseleave; dur: 200">
          </a-image>
          <a-image id="ter" src="#terrestrialIcon" position="-.48 -.25 0" scale=".175 .175" 
            transparent="true" opacity=".65" light-terrestrial
            animation__highlight="property: material.opacity; to: 1; startEvents: mouseenter; dur: 200"
            animation__scale="property: scale; to: .215 .215; startEvents: mouseenter; dur: 200"
            animation__unhighlight="property: material.opacity; to: .65; startEvents: mouseleave; dur: 200"
            animation__unscale="property: scale; to: .175 .175; startEvents: mouseleave; dur: 200">
          </a-image>
          <a-image id="cel" src="#celestialIcon" position="-.2 -.25 0" scale=".2 .2" 
            transparent="true" opacity=".65" light-celestial
            animation__highlight="property: material.opacity; to: 1; startEvents: mouseenter; dur: 200"
            animation__scale="property: scale; to: .225 .225; startEvents: mouseenter; dur: 200"
            animation__unhighlight="property: material.opacity; to: .65; startEvents: mouseleave; dur: 200"
            animation__unscale="property: scale; to: .2 .2; startEvents: mouseleave; dur: 200">
          </a-image>
          <a-image id="undo" src="#undoIcon" position="-.48 -.4 0" scale=".075 .075" 
            transparent="true" opacity=".65" undo-kingdom-lights
            animation__highlight="property: material.opacity; to: 1; startEvents: mouseenter; dur: 200"
            animation__scale="property: scale; to: .1 .1; startEvents: mouseenter; dur: 200"
            animation__unhighlight="property: material.opacity; to: .65; startEvents: mouseleave; dur: 200"
            animation__unscale="property: scale; to: .075 .075; startEvents: mouseleave; dur: 200">
          </a-image>
        </a-entity>

        <a-sphere id="telestialLight" radius="0.001" position="0 2 -50" visible="false"
        lensflare="createLight:true; relative: true; src: #telestialFlare; position:0.0 0.0 0.5; size:128"></a-sphere>
        <a-sphere id="terrestrialLight" radius="0.001" position="0 17 -50" visible="false"
        material="src:#terrestrialMaterial; emissive:#FFF; emissiveIntensity:.5;"
        lensflare="createLight:true; relative: true; src: #terrestrialFlare; position:0.0 0.0 0.5; intensity:50; size:256;"></a-sphere>
        <a-sphere id="celestialLight" radius=".001" position="0 37 -50" visible="false"
        material="src:#celestialMaterial; emissive:#FFF; emissiveIntensity:.5;"
        lensflare="createLight:true; relative: true; src: #celestialFlare; position:0.0 0 0.5; intensity:500; size:1024;"></a-sphere>
      </a-entity>

      <!-- the conclusion -->

    </a-scene>
  </body>
</html>